doctype html
html
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Resource Usage Summary

  body
  div(style="background-color: #f3f3ff; padding: 16px 0;")
    style.
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+Thai&display=swap")

      .noto-sans {
        font-family: 'Noto Sans Thai', sans-serif;
      }
    div(style="max-width: 595px; display: flex; justify-content: center; align-items: center; margin: 0 auto;")
      div
        div(class="noto-sans" style="padding: 32px 24px; display: flex; flex-direction: column; background-color: #ffffff;font-size: 14px; color: #2A2C37;")
          div(style="margin-bottom: 24px;")
            img(src=logo alt="Nipa Cloud Logo"  title="Nipa Cloud Logo"  style="display:block; width: 150px;" width="150")
          div(style="margin-bottom: 24px;") Dear #{recipient_name || "Customer"},
          div(style="margin-bottom: 24px;")
            | Attached is your 
            strong #{cycle_started_at} - #{cycle_end_at} Cycle Report
            | , which provides the cost associated with your resource usage for this cycle.
          div(style="margin-bottom: 24px;") Below is a summary of your resource usage and the total cost for this cycle.
          div(style="display: flex; flex-direction: column; padding: 0 16px; margin-bottom: 24px;")
            div(style="display: flex; flex-direction: column; margin-bottom: 16px;")
              div(style="font-weight:600; font-size: 16px; margin-bottom: 8px;") Resource Usage Summary
              div(style="display: flex; flex-direction: row; align-items: center; margin-bottom: 8px;")
                div(style="width: 100px;")
                  strong Period
                div 
                | : #{cycle_started_at} to #{cycle_end_at}
              div(style="display: flex; flex-direction: row; align-items: center; margin-bottom: 8px;")
                div(style="width: 100px;")
                  strong Project ID
                div 
                | : #{project_id}
              div(style="display: flex; flex-direction: row; align-items: center;")
                div(style="width: 100px;")
                  strong Project Name
                div 
                | : #{project_name}
            div    
              table(style="width: 100%; border-collapse: collapse; ")
                thead
                  tr(style="text-align: left; border-top: 1px solid #C5C7D3; border-bottom: 1px solid #E6E6EC; color:#8D91A6;")
                    th(style="padding: 8px 0;") Resource Type
                    th(style="padding: 8px 0; text-align: right;") Cost
                tbody
                  - var resourceList = resources || []
                  if !resourceList || resourceList.length === 0
                    - resourceList = []
                    - resourceList.push({ name: "Compute Instance", price: 0 })
                    - resourceList.push({ name: "Volumes", price: 0 })
                    - resourceList.push({ name: "Snapshots", price: 0 })
                    - resourceList.push({ name: "External IPs", price: 0 })
                    - resourceList.push({ name: "Load Balancers", price: 0 })
                    - resourceList.push({ name: "Database Instance", price: 0 })
                    - resourceList.push({ name: "Object Storage", price: 0 })
                    - resourceList.push({ name: "International Bandwidth", price: 0 })

                  each item in resourceList
                    tr(style="border-bottom: 1px solid #ddd;")
                    td(style="padding: 8px 0;")= item.name
                    td(style="padding: 8px 0; text-align: right;") #{((item.price) / 1000000).toLocaleString(undefined, {minimumFractionDigits: 6, maximumFractionDigits: 6})} THB

                  tr
                    td(style="padding: 8px 0;") Total
                    td(style="padding: 8px 0; text-align: right;") #{(total_price / 1000000).toLocaleString(undefined, {minimumFractionDigits: 6, maximumFractionDigits: 6})} THB

                  tr
                    td(style="padding: 8px 0;") VAT 7%
                    td(style="padding: 8px 0; text-align: right;") #{(vat / 1000000).toLocaleString(undefined, {minimumFractionDigits: 6, maximumFractionDigits: 6})} THB

                  tr(style="border-bottom: 1px solid #C5C7D3; font-weight: bold;")
                    td(style="padding: 8px 0;") Grand Total
                    td(style="padding: 8px 0; text-align: right;") #{(grand_total / 1000000).toLocaleString(undefined, {minimumFractionDigits: 6, maximumFractionDigits: 6})} THB

          div(style="margin-bottom: 24px;") For a complete breakdown, please refer to the attached report. For any questions or require further clarification, please feel free to contact us via 
            div
            a(href="#" style="font-weight: bold; color: #4959D1; text-decoration: none;") Customer Support 
            span  or 
            span(style="font-weight: bold;") +66 86 328 3030
            span  or 
            a(href="#" style="font-weight: bold; color: #4959D1; text-decoration: none;") support@nipa.cloud
          div(style="margin-bottom: 24px;") This report is based on Nipa Cloud’s Pay-as-you-go pricing model. Customers are charged based on actual usage, which may vary each cycle as shown in this report.
          div(style="margin-bottom: 24px;") 
            div Best regards,
            div(style="color : #232C65;") Nipa Cloud Space Team
          div(style="border-bottom: 1px solid #C5C7D3; margin-bottom: 24px;")
          div(style="align-self: center; color: #8D91A6; font-weight: 600; font-size: 10px;") Please do not reply, as this email was generated by an automated system.
        div(style="font-family: Helvetica, Arial, sans-serif; background-color: #1E2657; display: flex; flex-direction: column; text-align: center; padding: 16px 24px; font-size: 10px; color: #F9F9FC;")
          div(style="margin-bottom: 16px;")
            slot(style="color : #8D91A6") © 
            span 2025 Nipa Technology Co., Ltd., All Rights Reserved.
          div(style="margin-bottom: 16px;") NIPA Cloud does not request any personal information, such as a username or password. If you are asked to provide such information, please decline and inform us for your safety.
          div Privacy Policy | Terms of Service
